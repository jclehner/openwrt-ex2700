--- a/drivers/net/ethernet/ralink/mt7530.c
+++ b/drivers/net/ethernet/ralink/mt7530.c
@@ -730,7 +730,6 @@ mt7530_probe(struct device *dev, void __
 
 	mt7530->base = base;
 	mt7530->bus = bus;
-	mt7530->global_vlan_enable = vlan;
 
 	swdev = &mt7530->swdev;
 	if (bus) {
@@ -759,8 +758,13 @@ mt7530_probe(struct device *dev, void __
 
 
 	map = mt7530_find_mapping(dev->of_node);
-	if (map)
+	if (map) {
+		mt7530->global_vlan_enable = vlan;
 		mt7530_apply_mapping(mt7530, map);
+	} else {
+		mt7530->global_vlan_enable = 0;
+		dev_info(dev, "no ralink,port-map specified - disabling VLAN\n");
+	}
 	mt7530_apply_config(swdev);
 
 	/* magic vodoo */
